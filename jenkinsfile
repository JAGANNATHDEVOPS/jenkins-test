pipeline {
    agent any

    stages {
        stage('RUN KUBECTL COMMAND') {
            steps {
                scripts {
                    withKubeConfig(caCertificate: '', clusterName: 'dev-eks', contextName: '', credentialsId: 'kubernetes-credentials', namespace: 'default', restrictKubeConfigAccess: false, serverUrl: '') 
                    {
                        sh 'kubectl get ns'
                    }
                }
            }
        }
    }
}
